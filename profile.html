<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Voter Profile</title>
  <link rel="stylesheet" href="profile.css" />
</head>
<body>

  <div class="profile-container">
    <div class="profile-card">
      
      <!-- LEFT: Profile Image -->
      <div class="image-section">
        <label for="image-upload" class="image-label">
          <img id="profile-pic" src="images/avatar.png" alt="Profile Picture" />
          <p>Click to change photo</p>
        </label>
        <input type="file" id="image-upload" accept="image/*" />
      </div>

      <div class="progress-bar">
        <div class="filled" style="width: 80%"></div>
      </div>
        <p class="progress-text">Profile Completion: 80%</p>
      

      <!-- RIGHT: Form -->
      <form id="profile-form">
        <h1>Voter Profile</h1>

        <label>Full Name:</label>
        <input type="text" name="name" value="Rafiwa Molebatsi" />

        <label>Email:</label>
        <input type="email" name="email" value="abc23-016@thuto.bac.ac.bw" />

        <label>Age:</label>
        <input type="number" name="age" value="21" />

        <label>Date of Birth:</label>
        <input type="date" name="dob" value="2003-01-15" />

        <label>Voter ID (for QR):</label>
        <input type="text" name="voterId" value="BAC123456" id="voter-id" />

        <button type="submit">Save Profile</button>

        <div class="qr-section">
          <h3>Your QR Code</h3>
          <img id="qr-code" src="" alt="QR Code" />
        </div>
      </form>
    </div>
  </div>

  <script>
    // QR Code load
    const voterInput = document.getElementById('voter-id');
    const qrImage = document.getElementById('qr-code');

    function updateQR() {
      const id = voterInput.value;
      qrImage.src = `https://api.qrserver.com/v1/create-qr-code/?data=${id}&size=150x150`;
    }

    voterInput.addEventListener('input', updateQR);
    window.onload = updateQR;

    // Profile Picture Upload
    const uploadInput = document.getElementById('image-upload');
    const profilePic = document.getElementById('profile-pic');

    uploadInput.addEventListener('change', function () {
      const file = this.files[0];
      if (file) {
        profilePic.src = URL.createObjectURL(file);
      }
    });
  </script>

</body>

</html>
